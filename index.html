<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Skills2Careers Compass</title>
    <meta name="description" content="Campus Africa Skills Compass Prototype">
    <meta name="theme-color" content="#4f46e5">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="manifest" href="/manifest.json">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="antialiased overflow-x-hidden">

    <div id="proto-banner" class="bg-indigo-600 text-white text-xs py-2 px-4 flex flex-wrap justify-center items-center relative z-[60] gap-x-4 gap-y-1">
        <div class="flex items-center gap-2">
            <span class="font-bold bg-white text-indigo-600 px-2 py-0.5 rounded text-[10px] uppercase">Prototype v1.4</span>
        </div>
        <span class="hidden sm:inline text-white/80">Demonstrating UI flow for Skills2Careers Compass.</span>
    </div>

    <nav class="bg-white text-slate-900 sticky top-0 z-50 shadow-sm border-b border-slate-200">
        <div class="max-w-7xl mx-auto px-2 sm:px-4 py-3 sm:py-4 flex flex-col md:flex-row justify-between items-center gap-3 sm:gap-4">
            <div class="flex flex-row items-center justify-between sm:justify-start gap-3 sm:gap-6 w-full md:w-auto">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg flex items-center justify-center font-bold text-xl shadow-inner text-white shrink-0">A</div>
                    <div class="min-w-0">
                        <h1 class="text-base sm:text-xl font-bold tracking-tight text-slate-900 whitespace-nowrap overflow-hidden text-ellipsis">Campus Africa</h1>
                        <p class="text-xs text-slate-400 hidden sm:block">Bridging Skills & Lifelong Learning to Opportunity</p>
                    </div>
                </div>
                <div class="flex items-center gap-2 sm:border-l sm:border-slate-200 sm:pl-6 ml-auto sm:ml-0">
                    <select id="language-selector" class="text-xs border border-slate-200 rounded px-2 py-1 bg-white text-slate-600 focus:outline-none focus:ring-1 focus:ring-indigo-500 shrink-0" aria-label="Select Language">
                        <option value="en">EN (English)</option>
                        <option value="sw">SW (Kiswahili)</option>
                        <option value="fr">FR (Fran√ßais)</option>
                    </select>
                    <button onclick="toggleLowBandwidth()" id="lb-toggle" class="text-xs text-slate-500 hover:text-slate-900 border border-slate-200 hover:bg-slate-50 px-2 py-1 rounded shrink-0">Lite</button>
                </div>
            </div>

            <div class="flex flex-col gap-2 w-full md:w-auto">
                <div class="flex flex-nowrap items-center justify-between gap-1 sm:gap-2 w-full md:w-auto overflow-x-auto">
                    <button onclick="openUnifiedHub('pp-diagnostic')" class="flex-1 min-w-0 flex items-center justify-center gap-1 sm:gap-1.5 px-1 sm:px-3 py-2 bg-indigo-50 rounded-lg text-xs font-medium hover:bg-indigo-100 transition-colors border border-indigo-200 text-indigo-700 shadow-sm h-full">
                        <i data-lucide="layers" class="w-3.5 h-3.5 sm:w-4 sm:h-4 text-indigo-600 shrink-0"></i>
                        <span class="text-center leading-none text-[10px] sm:text-xs">Skills &<br class="block sm:hidden"> Training Hub</span>
                    </button>
                    <button onclick="toggleCareerHub()" class="flex-1 min-w-0 flex items-center justify-center gap-1 sm:gap-1.5 px-1 sm:px-3 py-2 bg-indigo-50 rounded-lg text-xs font-medium hover:bg-indigo-100 transition-colors border border-indigo-200 text-indigo-700 shadow-sm h-full">
                        <i data-lucide="briefcase" class="w-3.5 h-3.5 sm:w-4 sm:h-4 text-indigo-600 shrink-0"></i>
                        <span class="text-center leading-none text-[10px] sm:text-xs">Careers<br class="block sm:hidden"> Guidance</span>
                    </button>
                    <button onclick="toggleCommunityHub()" class="flex-1 min-w-0 flex items-center justify-center gap-1 sm:gap-1.5 px-1 sm:px-3 py-2 bg-indigo-50 rounded-lg text-xs font-medium hover:bg-indigo-100 transition-colors border border-indigo-200 text-indigo-700 shadow-sm h-full">
                        <i data-lucide="users" class="w-3.5 h-3.5 sm:w-4 sm:h-4 text-indigo-600 shrink-0"></i>
                        <span class="text-center leading-none text-[10px] sm:text-xs">Community<br class="block sm:hidden"> & Events</span>
                    </button>
                    <button onclick="openEvidenceModal()" class="flex-1 min-w-0 flex items-center justify-center gap-1 sm:gap-1.5 px-1 sm:px-3 py-2 bg-slate-100 rounded-lg text-xs font-medium hover:bg-slate-200 transition-colors border border-slate-300 text-slate-700 shadow-sm h-full">
                        <i data-lucide="database" class="w-3.5 h-3.5 sm:w-4 sm:h-4 text-slate-600 shrink-0"></i>
                        <span class="text-center leading-none text-[10px] sm:text-xs">Workforce<br class="block sm:hidden"> Data</span>
                    </button>
                </div>
                <div class="flex justify-end items-center w-full">
                    <div class="flex items-center bg-slate-50 rounded-lg p-1 border border-slate-200 shrink-0 w-auto">
                        <span class="px-3 text-xs text-slate-500 uppercase tracking-wider font-semibold">Region:</span>
                        <select id="country-selector" onchange="setGlobalCountry(this.value)" class="bg-transparent text-sm font-semibold text-slate-700 focus:outline-none px-2 py-1 cursor-pointer">
                            <option value="all"> üåç  East Africa (All)</option>
                            <option value="Kenya"> üá∞üá™  Kenya</option>
                            <option value="Tanzania"> üáπüáø  Tanzania</option>
                            <option value="Uganda"> üá∫üá¨  Uganda</option>
                            <option value="Rwanda"> üá∑üáº  Rwanda</option>
                            <option value="Burundi"> üáßüáÆ  Burundi</option>
                            <option value="South Sudan"> üá∏üá∏  South Sudan</option>
                            <option value="DRC"> üá®üá©  DR Congo</option>
                            <option value="Somalia"> üá∏üá¥  Somalia</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto px-4 py-8 space-y-8">
        <div class="bg-gradient-to-br from-white to-slate-100 rounded-2xl border border-slate-200 p-3 md:p-5 text-center shadow-sm relative overflow-hidden">
            <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width=\'20\' height=\'20\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Ccircle cx=\'1\' cy=\'1\' r=\'1\' fill=\'%2394a3b8\' fill-opacity=\'0.4\'/%3E%3C/svg%3E')] opacity-20 pointer-events-none"></div>
            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-emerald-500"></div>
            <h2 class="text-xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-900 to-purple-800 mb-1 tracking-tight relative z-10">Skills2Careers Compass</h2>
            <p class="text-xs md:text-sm text-slate-500 mb-8 font-medium relative z-10">Find your place in the EAC‚Äôs fastest-growing sectors</p>
            
            <!-- Dynamic Persona Value Prop -->
            <div class="max-w-4xl mx-auto mb-2 relative z-10">
                <div class="flex flex-nowrap md:flex-wrap overflow-x-auto md:overflow-visible justify-start md:justify-center gap-3 mb-4 pb-2 md:pb-0 snap-x no-scrollbar px-1">
                    <button onclick="updateHeroPersona('learner')" id="btn-p-learner" class="shrink-0 snap-center whitespace-nowrap px-4 py-1.5 rounded-full text-xs font-bold border border-indigo-600 bg-indigo-600 text-white shadow-sm transition-colors">Learner / Job Seeker</button>
                    <button onclick="updateHeroPersona('entrepreneur')" id="btn-p-entrepreneur" class="shrink-0 snap-center whitespace-nowrap px-4 py-1.5 rounded-full text-xs font-medium border border-slate-200 bg-white text-slate-500 hover:text-fuchsia-600 hover:border-fuchsia-300 transition-colors">Entrepreneur</button>
                    <button onclick="updateHeroPersona('provider')" id="btn-p-provider" class="shrink-0 snap-center whitespace-nowrap px-4 py-1.5 rounded-full text-xs font-medium border border-slate-200 bg-white text-slate-500 hover:text-emerald-600 hover:border-emerald-300 transition-colors">Training Provider</button>
                    <button onclick="updateHeroPersona('policy')" id="btn-p-policy" class="shrink-0 snap-center whitespace-nowrap px-4 py-1.5 rounded-full text-xs font-medium border border-slate-200 bg-white text-slate-500 hover:text-cyan-600 hover:border-cyan-300 transition-colors">Policymaker</button>
                </div>
                <p id="hero-desc" class="text-slate-600 text-sm font-normal mb-1 leading-relaxed px-2">In 10 minutes, you‚Äôll have a shortlist of opportunities you‚Äôre suited for + a step-by-step learning plan + information on training options in your country.</p>
            </div>
        </div>

        <!-- Container for dynamically generated sector cards -->
        <div id="sector-cards-container" class="grid grid-cols-1 sm:grid-cols-3 gap-4"></div>

        <!--
          TailwindCSS JIT Safelist:
          The classes for the cards are generated dynamically. To ensure Tailwind's JIT compiler
          includes the necessary CSS, we list all possible dynamic class combinations here.

          bg-green-50 bg-yellow-50 bg-blue-50
          bg-green-100 text-green-600 group-hover:text-green-700 hover:bg-green-200 text-green-700 border-green-600 ring-green-600
          bg-yellow-100 text-yellow-600 group-hover:text-yellow-700 hover:bg-yellow-200 text-yellow-700 border-yellow-600 ring-yellow-600
          bg-blue-100 text-blue-600 group-hover:text-blue-700 hover:bg-blue-200 text-blue-700 border-blue-600 ring-blue-600
        -->

        <div id="dashboard-content" class="min-h-[400px]"></div>

        <div id="occupation-modal" class="fixed inset-0 z-[100] hidden flex items-start justify-center p-4 pt-4 md:pt-10">
            <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity" onclick="closeModal('occupation-modal')"></div>
            <div class="relative w-full max-w-4xl bg-white rounded-2xl shadow-2xl flex flex-col max-h-[85vh] overflow-hidden transform transition-all scale-95 opacity-0" id="occupation-modal-panel">
                <div class="bg-white border-b border-slate-200">
                    <div class="p-4 md:px-8 md:pt-8 md:pb-4 flex justify-between items-start">
                        <div class="pr-8">
                            <div class="flex items-center gap-2 mb-1.5 md:mb-2">
                                <span id="modal-sector-badge" class="text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full bg-slate-200 text-slate-600">Sector</span>
                            </div>
                            <h2 id="modal-title" class="text-xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-slate-900 to-indigo-900 tracking-tight leading-tight break-words">Occupation Title</h2>
                            <p id="modal-alt-titles" class="text-xs md:text-sm text-slate-500 mt-1 font-medium">Alternative Titles...</p>
                        </div>
                        <button onclick="closeModal('occupation-modal')" aria-label="Close modal" class="p-1.5 md:p-2 bg-white rounded-full text-slate-400 hover:text-slate-600 hover:bg-slate-100 border border-slate-200 transition-colors shadow-sm shrink-0"><i data-lucide="x" class="w-5 h-5"></i></button>
                    </div>
                </div>
                <div class="flex-1 overflow-y-auto custom-scroll bg-white p-4 md:p-8 space-y-6 md:space-y-8">
                    <div id="modal-snapshot-section"></div>
                    <section>
                        <h3 class="text-sm font-bold text-slate-400 uppercase tracking-wide mb-3 flex items-center gap-2">
                            <span class="w-6 h-6 rounded bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold">1</span> Role Snapshot
                        </h3>
                        <div id="occ-desc" class="text-slate-800 text-base leading-relaxed font-medium">Description loading...</div>
                    </section>
                    <div id="modal-demand-section"></div>
                    <section>
                        <h3 class="text-sm font-bold text-slate-400 uppercase tracking-wide mb-3 flex items-center gap-2">
                            <span class="w-6 h-6 rounded bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold">2</span> Typical Skills Required
                        </h3>
                        <div id="occ-skills-list" class="flex flex-wrap gap-2"></div>
                    </section>
                    <div id="modal-related-section"></div>
                    <div id="modal-extra-section"></div>
                    <section id="occ-fit-section"></section>
                </div>
                <div id="occ-modal-footer" class="p-4 border-t border-slate-100 bg-slate-50 flex justify-end"></div>
            </div>
        </div>

        <div id="evidence-modal" class="fixed inset-0 z-[100] hidden flex items-start justify-center p-4 pt-4 md:pt-10">
            <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity" onclick="closeModal('evidence-modal')"></div>
            <div class="relative w-full max-w-3xl bg-white rounded-2xl shadow-2xl flex flex-col max-h-[85vh] overflow-hidden transform transition-all scale-95 opacity-0" id="evidence-modal-panel">
                <div class="p-5 border-b border-slate-100 bg-white flex justify-between items-center">
                    <div>
                        <h2 class="text-lg font-bold text-indigo-900 flex items-center gap-2"><i data-lucide="database" class="w-5 h-5"></i> Workforce Data Stack</h2>
                        <p class="text-xs text-indigo-600 mt-1">Verifiable sources for students, job seekers, universities & policymakers.</p>
                    </div>
                    <button onclick="closeModal('evidence-modal')" aria-label="Close modal" class="p-2 bg-white rounded-full text-slate-400 hover:text-slate-600 transition-colors"><i data-lucide="x" class="w-4 h-4"></i></button>
                </div>
                <div class="flex-1 overflow-y-auto p-6 space-y-6"></div>
                <div class="p-4 bg-slate-50 border-t border-slate-200 text-xs text-slate-500 text-center">Sources compiled from Skills2Careers Workforce Data Stack (2025).</div>
            </div>
        </div>

        <div id="skill-modal" class="fixed inset-0 z-[100] hidden flex items-start justify-center p-4 pt-4 md:pt-10">
            <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity" onclick="closeModal('skill-modal')"></div>
            <div class="relative w-full max-w-2xl bg-white rounded-2xl shadow-2xl flex flex-col max-h-[85vh] overflow-hidden transform transition-all scale-95 opacity-0" id="skill-modal-panel">
                <div class="p-6 border-b border-slate-100 flex justify-between items-start bg-white">
                    <div>
                        <div class="flex items-center gap-2 mb-1"><span class="text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full bg-indigo-100 text-indigo-700">Skill Profile</span></div>
                        <h2 id="skill-modal-title" class="text-2xl font-bold text-slate-900">Skill Name</h2>
                    </div>
                    <button onclick="closeModal('skill-modal')" aria-label="Close modal" class="p-2 bg-white rounded-full text-slate-400 hover:text-slate-600 transition-colors shadow-sm"><i data-lucide="x" class="w-5 h-5"></i></button>
                </div>
                <div class="flex-1 overflow-y-auto p-6 space-y-8 custom-scroll">
                    <div>
                        <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wide mb-2 flex items-center gap-2">
                            <span class="w-6 h-6 rounded bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold">1</span> Definition & Context
                        </h3>
                        <p id="skill-def" class="text-sm text-slate-700 leading-relaxed">...</p>
                    </div>
                    <div>
                        <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wide mb-3 flex items-center gap-2">
                            <span class="w-6 h-6 rounded bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold">2</span> Proficiency Levels
                        </h3>
                        <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                            <div class="p-3 bg-slate-50 rounded border border-slate-100">
                                <div class="text-[10px] font-bold text-emerald-600 uppercase mb-1">Beginner</div>
                                <p id="skill-lvl-beg" class="text-xs text-slate-600 leading-snug">...</p>
                            </div>
                            <div class="p-3 bg-slate-50 rounded border border-slate-100">
                                <div class="text-[10px] font-bold text-indigo-600 uppercase mb-1">Intermediate</div>
                                <p id="skill-lvl-int" class="text-xs text-slate-600 leading-snug">...</p>
                            </div>
                            <div class="p-3 bg-slate-50 rounded border border-slate-100">
                                <div class="text-[10px] font-bold text-purple-600 uppercase mb-1">Advanced</div>
                                <p id="skill-lvl-adv" class="text-xs text-slate-600 leading-snug">...</p>
                            </div>
                        </div>
                    </div>
                    <div id="skill-synergies-section" class="hidden">
                        <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wide mb-2 flex items-center gap-2">
                            <span class="w-6 h-6 rounded bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold">3</span> Skills Often Paired With
                        </h3>
                        <div id="skill-synergies-list" class="flex flex-wrap gap-2"></div>
                    </div>
                    <div>
                        <h3 class="text-xs font-bold text-slate-400 uppercase tracking-wide mb-2 flex items-center gap-2">
                            <span class="w-6 h-6 rounded bg-slate-100 text-slate-500 flex items-center justify-center text-xs font-bold">4</span> Common Job Titles
                        </h3>
                        <div class="flex flex-wrap gap-2 items-center">
                            <div id="skill-roles-primary" class="flex gap-2"></div>
                            <span class="text-slate-300">|</span>
                            <div id="skill-roles-similar" class="flex gap-2"></div>
                        </div>
                    </div>
                    <div id="skill-challenge-container" class="bg-white rounded-xl p-5 border border-slate-200"></div>
                    <div id="assessment-result" class="hidden mt-4 pt-4 border-t border-indigo-200 animate-fade-in"></div>
                    <div class="bg-gradient-to-r from-slate-900 to-indigo-900 rounded-xl p-5 text-white shadow-lg relative overflow-hidden group hover:shadow-xl transition-all">
                        <div class="absolute right-0 top-0 w-32 h-32 bg-white/5 rounded-full -mr-10 -mt-10 blur-2xl group-hover:bg-white/10 transition-colors"></div>
                        <div class="relative z-10 flex items-center justify-between">
                            <div>
                                <h3 class="font-bold text-lg mb-1 flex items-center gap-2">Master this Skill</h3>
                                <p class="text-xs text-slate-300 max-w-sm leading-relaxed mb-3">Looking to skill, upskill or re-skill? Explore verified courses or build a personalized learning pathway.</p>
                                <div id="skill-cta-container" class="flex flex-wrap gap-2">
                                    <!-- Dynamic Buttons injected by app.js -->
                                </div>
                            </div>
                            <div class="hidden sm:block opacity-80 group-hover:opacity-100 group-hover:scale-105 transition-all">
                                <i data-lucide="book-open" class="w-16 h-16 text-white/20"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="unified-hub-modal" class="fixed inset-0 z-[100] hidden flex items-start justify-center p-4 pt-4 md:pt-10">
            <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity" onclick="closeModal('unified-hub-modal')"></div>
            <div class="relative w-full max-w-5xl bg-white rounded-2xl shadow-2xl flex flex-col max-h-[85vh] overflow-hidden transform transition-all scale-95 opacity-0" id="unified-hub-modal-panel">
                <div class="p-6 border-b border-slate-100 flex justify-between items-center bg-white shrink-0">
                    <div>
                        <h2 id="pp-header-title" class="text-xl font-bold text-slate-900 flex items-center gap-2"><i data-lucide="layers" class="w-6 h-6 text-indigo-600"></i> Skills & Training Hub</h2>
                        <p class="text-xs text-slate-500 mt-1">Diagnose gaps, build a pathway, and find verified training.</p>
                    </div>
                    <button onclick="closeModal('unified-hub-modal')" aria-label="Close modal" class="p-2 bg-white rounded-full text-slate-400 hover:text-slate-600 transition-colors"><i data-lucide="x" class="w-5 h-5"></i></button>
                </div>
                <div class="flex flex-nowrap border-b border-slate-200 bg-white w-full overflow-x-auto relative z-10 shadow-sm shrink-0">
                    <button onclick="showUnifiedTab('pp-diagnostic')" class="pp-tab-btn flex-none py-3 px-4 text-xs sm:text-sm font-bold border-b-4 transition-all whitespace-nowrap text-emerald-700 border-emerald-600 bg-emerald-50" data-tab="pp-diagnostic">1. SkillsMatch</button>
                    <button onclick="showUnifiedTab('pp-practice')" class="pp-tab-btn flex-none py-3 px-4 text-xs sm:text-sm font-bold border-b-4 transition-all whitespace-nowrap text-slate-500 border-transparent hover:text-slate-700 hover:bg-slate-50" data-tab="pp-practice">2. Pathway Builder</button>
                    <button onclick="showUnifiedTab('pp-courses')" class="pp-tab-btn flex-none py-3 px-4 text-xs sm:text-sm font-bold border-b-4 transition-all whitespace-nowrap text-slate-500 border-transparent hover:text-slate-700 hover:bg-slate-50" data-tab="pp-courses">3. Find Courses</button>
                </div>
                <div id="pp-scroll-container" class="flex-1 overflow-y-auto p-6 bg-white custom-scroll">
                    
                    <!-- TAB 1: DIAGNOSTIC -->
                    <div id="pp-diagnostic" class="pp-tab-content space-y-4">
                        <div id="pp-diagnostic-content">
                        </div>
                    </div>
                    
                    <!-- TAB 2: PATHWAY -->
                    <div id="pp-practice" class="pp-tab-content hidden space-y-4">
                        <div id="pp-practice-content">
                            <!-- Pathway Builder UI -->
                            <div class="space-y-6">
                                <!-- Builder Header -->
                                <div class="bg-indigo-50 rounded-xl p-6 border border-indigo-100 text-center">
                                    <h3 class="text-lg font-bold text-indigo-900 mb-2">Career Pathway Builder</h3>
                                    <p class="text-sm text-indigo-700 max-w-2xl mx-auto">
                                        Not sure where to start? Select your target role and current experience level to generate a step-by-step learning roadmap tailored to East African market demands.
                                    </p>
                                </div>

                                <!-- Selection Controls -->
                                <div class="bg-white p-4 rounded-xl border border-slate-200 shadow-sm">
                                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                                        <div class="space-y-1">
                                            <label class="text-xs font-bold text-slate-500 uppercase">Target Sector</label>
                                            <select id="pathway-sector" class="w-full border-slate-300 rounded-lg text-sm focus:ring-indigo-500">
                                                <option>Digital Economy</option>
                                                <option>Agriculture</option>
                                                <option>Renewable Energy</option>
                                            </select>
                                        </div>
                                        <div class="space-y-1">
                                            <label class="text-xs font-bold text-slate-500 uppercase">Target Role</label>
                                            <select id="pathway-role" class="w-full border-slate-300 rounded-lg text-sm focus:ring-indigo-500">
                                                <option>Data Scientist</option>
                                                <option>Software Engineer</option>
                                                <option>UX Designer</option>
                                                <option>Solar PV Installer</option>
                                                <option>Precision Ag Specialist</option>
                                            </select>
                                        </div>
                                        <div class="space-y-1">
                                            <label class="text-xs font-bold text-slate-500 uppercase">Starting Point</label>
                                            <select id="pathway-start" class="w-full border-slate-300 rounded-lg text-sm focus:ring-indigo-500">
                                                <option>Complete Beginner</option>
                                                <option>Some Experience</option>
                                                <option>Upskilling Professional</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="flex justify-end border-t border-slate-100 pt-4">
                                        <button onclick="generatePathway()" class="bg-indigo-600 text-white px-6 py-2 rounded-lg text-sm font-bold hover:bg-indigo-700 transition-colors shadow-sm flex items-center gap-2">
                                            <i data-lucide="sparkles" class="w-4 h-4"></i> Generate Pathway
                                        </button>
                                    </div>
                                </div>

                                <!-- The Pathway Visualization (Static Example) -->
                                <div id="pathway-results" class="hidden animate-fade-in mt-8">
                                    <div class="flex items-center justify-between mb-6">
                                        <h4 class="text-base font-bold text-slate-800 flex items-center gap-2">
                                            <i data-lucide="map" class="w-5 h-5 text-indigo-600"></i> 
                                            <span>Recommended Path: <span id="pathway-role-display" class="text-indigo-600">...</span></span>
                                        </h4>
                                        <button class="text-xs text-slate-500 hover:text-indigo-600 flex items-center gap-1"><i data-lucide="share-2" class="w-3 h-3"></i> Share</button>
                                    </div>
                                    
                                    <div id="pathway-timeline-container" class="relative">
                                        <!-- Dynamic content will be injected here -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- TAB 3: COURSES (Consolidated from Training Hub) -->
                    <div id="pp-courses" class="pp-tab-content hidden space-y-6">
                        <!-- Value Prop Header -->
                        <div class="bg-emerald-50 rounded-xl p-4 border border-emerald-100 flex items-start gap-3">
                            <div class="p-2 bg-emerald-100 text-emerald-600 rounded-lg shrink-0"><i data-lucide="search" class="w-5 h-5"></i></div>
                            <div>
                                <h3 class="font-bold text-emerald-900 text-sm">Find Verified Training</h3>
                                <p class="text-xs text-emerald-700 mt-1">Search a curated database of verified training providers across East Africa. Filter by cost, duration, and mode.</p>
                            </div>
                        </div>

                        <!-- Filters Section -->
                        <div class="bg-white rounded-xl border border-slate-200 p-4 shadow-sm">
                            <div class="flex justify-between items-center mb-3">
                                <h3 class="font-bold text-slate-800 text-sm flex items-center gap-2"><i data-lucide="filter" class="w-4 h-4 text-emerald-500"></i> Granular Search</h3>
                                <div class="flex gap-2 items-center">
                                    <button onclick="document.getElementById('course-filters-grid').classList.toggle('hidden')" class="md:hidden text-[10px] font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded border border-indigo-100">Toggle Filters</button>
                                    <button onclick="clearCourseFilters()" class="text-xs text-slate-500 hover:text-indigo-600 font-bold flex items-center gap-1 transition-colors"><i data-lucide="rotate-ccw" class="w-3 h-3"></i> Clear All</button>
                                </div>
                            </div>
                            <div class="mb-4 relative">
                                <i data-lucide="search" class="absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"></i>
                                <input type="text" id="filter-search" onkeyup="renderProviderTable()" placeholder="Search by course name or provider..." class="w-full border border-slate-300 rounded-lg pl-9 pr-3 py-2 text-xs focus:ring-emerald-500 focus:border-emerald-500 shadow-sm">
                            </div>
                            <div id="course-filters-grid" class="grid grid-cols-2 md:grid-cols-3 gap-3">
                                <div>
                                    <label class="block text-xs font-medium text-slate-600 mb-1">Country</label>
                                    <select id="filter-country" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-xs focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="all">All Countries</option>
                                        <option value="Kenya">Kenya</option>
                                        <option value="Tanzania">Tanzania</option>
                                        <option value="Uganda">Uganda</option>
                                        <option value="Rwanda">Rwanda</option>
                                        <option value="Burundi">Burundi</option>
                                        <option value="South Sudan">South Sudan</option>
                                        <option value="DRC">DR Congo</option>
                                        <option value="Somalia">Somalia</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-slate-600 mb-1">Sector</label>
                                    <select id="filter-sector" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-xs focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="all">All Sectors</option>
                                        <option value="digital">Digital Economy</option>
                                        <option value="agri">Agriculture</option>
                                        <option value="energy">Renewable Energy</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-slate-600 mb-1">Duration</label>
                                    <select id="filter-duration" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-xs focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="all">Any Duration</option>
                                        <option value="short">&lt; 1 Month</option>
                                        <option value="1-3m">1 - 3 Months</option>
                                        <option value="3-6m">3 - 6 Months</option>
                                        <option value="6-12m">6 - 12 Months</option>
                                        <option value="1-2y">1 - 2 Years</option>
                                        <option value="2y+">2+ Years</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-slate-600 mb-1">Mode</label>
                                    <select id="filter-mode" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-xs focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="all">Any Mode</option>
                                        <option value="Online">Online</option>
                                        <option value="In-Person">In-Person</option>
                                        <option value="Hybrid">Hybrid</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-slate-600 mb-1">Cost Model</label>
                                    <select id="filter-cost" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-xs focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="all">Any Cost</option>
                                        <option value="free">Free / Audit Available</option>
                                        <option value="paid">Paid / Subscription</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-slate-600 mb-1">Credential Type</label>
                                    <select id="filter-type" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-xs focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="all">All Types</option>
                                        <option value="cert">Certificate / License</option>
                                        <option value="micro">Micro-credential</option>
                                        <option value="degree">Degree / Diploma</option>
                                        <option value="bootcamp">Bootcamp / Practical</option>
                                        <option value="tvet">TVET / Polytechnic</option>
                                        <option value="platform">Platforms & Communities</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-slate-600 mb-1">Language</label>
                                    <select id="filter-lang" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-xs focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="all">Any Language</option>
                                        <option value="English">English</option>
                                        <option value="Swahili">Kiswahili</option>
                                        <option value="French">French</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs font-medium text-slate-600 mb-1">Special Features</label>
                                    <select id="filter-feature" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-xs focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="all">Any Feature</option>
                                        <option value="unesco">UNESCO Verified (GSA/UNEVOC)</option>
                                        <option value="women">Women-Focused</option>
                                    </select>
                                </div>
                            </div>
                            <div class="mt-4 pt-3 border-t border-slate-100 flex justify-end">
                                <button onclick="renderProviderTable()" class="px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm font-bold shadow-sm transition-colors flex items-center gap-2">
                                    Apply Filters <i data-lucide="arrow-right" class="w-4 h-4"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Results Table -->
                        <div class="bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm">
                            <div class="hidden md:block overflow-x-auto">
                                <table class="w-full text-left">
                                    <thead class="bg-slate-50 text-slate-500 font-bold border-b border-slate-200 text-[10px] uppercase">
                                        <tr>
                                            <th class="px-4 py-3">Provider / Course</th>
                                            <th class="px-4 py-3">Context</th>
                                            <th class="px-4 py-3">
                                                <div class="flex items-center gap-1">
                                                    Outcomes Rating <i data-lucide="info" class="w-3 h-3 text-slate-400 cursor-help" title="Data Reliability Rating:&#10;5‚òÖ: Independently Audited&#10;3‚òÖ: Self-Reported Data&#10;1‚òÖ: No Public Data"></i>
                                                </div>
                                            </th>
                                            <th class="px-4 py-3">
                                                <div class="flex items-center gap-1">
                                                    Metric <i data-lucide="info" class="w-3 h-3 text-slate-400 cursor-help" title="Key Outcome Indicator:&#10;e.g. Salary Uplift, Placement Rate, or Reach."></i>
                                                </div>
                                            </th>
                                            <th class="px-4 py-3">Updated</th>
                                            <th class="px-4 py-3 text-right">Link</th>
                                        </tr>
                                    </thead>
                                    <tbody id="db-body" class="bg-white divide-y divide-slate-100"></tbody>
                                </table>
                            </div>
                            <!-- Mobile Cards Container -->
                            <div id="db-mobile-cards" class="md:hidden divide-y divide-slate-100"></div>
                            <div class="p-3 bg-slate-50 border-t border-slate-200 text-[10px] text-slate-500 flex justify-between">
                                <span id="provider-counter">Loading...</span>
                                <span>Campus Africa Tracer Standard v1.0</span>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div id="certificate-modal" class="fixed inset-0 z-[150] hidden flex items-start justify-center p-4 pt-4 md:pt-10">
            <div class="absolute inset-0 bg-slate-900/80 backdrop-blur-sm transition-opacity" onclick="closeModal('certificate-modal')"></div>
            <div class="relative w-full max-w-2xl bg-white shadow-2xl overflow-hidden transform transition-all scale-95 opacity-0 border-8 border-double border-slate-200 max-h-[85vh] flex flex-col" id="certificate-modal-panel">
                <div class="p-12 text-center space-y-6 relative bg-[url('https://www.transparenttextures.com/patterns/cream-paper.png')]">
                    <div class="absolute top-4 left-4 w-16 h-16 border-t-4 border-l-4 border-slate-900"></div>
                    <div class="absolute top-4 right-4 w-16 h-16 border-t-4 border-r-4 border-slate-900"></div>
                    <div class="absolute bottom-4 left-4 w-16 h-16 border-b-4 border-l-4 border-slate-900"></div>
                    <div class="absolute bottom-4 right-4 w-16 h-16 border-b-4 border-r-4 border-slate-900"></div>
                    <div class="w-20 h-20 bg-slate-900 text-white rounded-full flex items-center justify-center mx-auto text-2xl font-serif font-bold shadow-lg">A</div>
                    <h1 class="text-4xl font-serif font-bold text-slate-900 tracking-wide uppercase mt-4">Certificate of Competence</h1>
                    <div class="w-32 h-1 bg-slate-900 mx-auto my-4"></div>
                    <p class="text-sm font-serif italic text-slate-600">This certifies that</p>
                    <h2 class="text-3xl font-bold text-indigo-900 py-2">Learner Name</h2>
                    <p class="text-sm font-serif italic text-slate-600">Has successfully demonstrated proficiency in</p>
                    <h3 id="cert-skill" class="text-2xl font-bold text-slate-900 py-2">Data Science Associate</h3>
                    <div class="text-xs text-slate-500 font-bold uppercase tracking-widest mt-2">Verified by the Campus Africa Skills Compass ‚Ä¢ <span id="cert-sector">Digital Economy</span></div>
                    <div class="flex justify-between items-end mt-12 px-8">
                        <div class="text-center"><div class="text-sm font-bold text-slate-900 border-t border-slate-400 pt-2 px-8">AI4EAC Director</div></div>
                        <div class="text-center"><div id="cert-date" class="text-sm font-bold text-slate-900 border-t border-slate-400 pt-2 px-8">Dec 17, 2025</div></div>
                    </div>
                </div>
                <div class="bg-slate-900 p-4 flex justify-center gap-4">
                    <button onclick="alert('Downloading PDF...')" class="bg-white text-slate-900 px-6 py-2 rounded font-bold text-sm hover:bg-slate-100 transition-colors flex items-center gap-2"><i data-lucide="download" class="w-4 h-4"></i> Download PDF</button>
                    <button onclick="closeModal('certificate-modal')" class="text-white hover:text-slate-300 font-bold text-sm px-4">Close</button>
                </div>
            </div>
        </div>

        <div id="venture-modal" class="fixed inset-0 z-[100] hidden flex items-start justify-center p-4 pt-4 md:pt-10">
            <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity" onclick="closeModal('venture-modal')"></div>
            <div class="relative w-full max-w-4xl bg-white rounded-2xl shadow-2xl flex flex-col max-h-[85vh] overflow-hidden transform transition-all scale-95 opacity-0" id="venture-modal-panel">
                <div class="bg-white border-b border-slate-200">
                    <div class="p-4 md:px-8 md:pt-8 md:pb-4 flex justify-between items-start">
                        <div class="pr-8">
                            <div class="flex items-center gap-2 mb-1.5 md:mb-2">
                                <span id="venture-modal-badge" class="text-[10px] font-bold uppercase tracking-wider px-2 py-0.5 rounded-full bg-orange-100 text-orange-700">Venture Pathway</span>
                            </div>
                            <h2 id="venture-modal-title" class="text-xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-slate-900 to-indigo-900 tracking-tight leading-tight break-words">Venture Title</h2>
                        </div>
                        <button onclick="closeModal('venture-modal')" aria-label="Close modal" class="p-1.5 md:p-2 bg-white rounded-full text-slate-400 hover:text-slate-600 hover:bg-slate-100 border border-slate-200 transition-colors shadow-sm shrink-0"><i data-lucide="x" class="w-5 h-5"></i></button>
                    </div>
                </div>
                <div class="flex-1 overflow-y-auto custom-scroll bg-white p-4 md:p-8 space-y-6 md:space-y-8">
                    <div id="venture-modal-content" class="space-y-8"></div>
                </div>
                <div class="p-4 border-t border-slate-100 bg-slate-50 flex justify-between items-center">
                    <button onclick="toggleVentureFavorite()" id="btn-venture-fav" class="flex items-center gap-2 text-slate-500 hover:text-rose-600 transition-colors text-xs font-bold">
                        <i data-lucide="heart" class="w-4 h-4"></i> <span>Save to Favorites</span>
                    </button>
                    <button onclick="closeModal('venture-modal')" class="px-4 py-2 bg-white border border-slate-300 rounded-lg text-xs font-bold text-slate-700 hover:bg-slate-50">Close</button>
                </div>
            </div>
        </div>

        <div id="resource-modal" class="fixed inset-0 z-[100] hidden flex items-start justify-center p-4 pt-4 md:pt-10">
            <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity" onclick="closeModal('resource-modal')"></div>
            <div class="relative w-full max-w-lg bg-white rounded-2xl shadow-2xl flex flex-col max-h-[80vh] overflow-hidden transform transition-all scale-95 opacity-0" id="resource-modal-panel">
                <div class="p-5 border-b border-slate-100 bg-white flex justify-between items-center">
                    <h2 id="resource-modal-title" class="text-lg font-bold text-slate-900">Resource</h2>
                    <button onclick="closeModal('resource-modal')" aria-label="Close modal" class="p-2 bg-white rounded-full text-slate-400 hover:text-slate-600 transition-colors"><i data-lucide="x" class="w-4 h-4"></i></button>
                </div>
                <div class="p-5 overflow-y-auto" id="resource-modal-content"></div>
            </div>
        </div>

        <div id="career-hub-drawer" class="fixed inset-y-0 right-0 z-[95] w-full max-w-md bg-white shadow-2xl drawer flex flex-col translate-x-full">
            <div class="p-5 border-b border-slate-100 flex justify-between items-center bg-white">
                <h2 class="text-xl font-bold text-slate-900 flex items-center gap-2"><i data-lucide="briefcase" class="w-5 h-5 text-indigo-600"></i> Careers Guidance</h2>
                <button onclick="toggleCareerHub()" class="p-2 bg-white rounded-full text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-colors" aria-label="Close Careers Hub"><i data-lucide="x" class="w-5 h-5"></i></button>
            </div>
            <div class="px-5 pt-4 pb-0 bg-white">
                <label for="career-persona-select" class="block text-[10px] font-bold text-slate-500 uppercase mb-1">I am a...</label>
                <select id="career-persona-select" onchange="setGlobalPersona(this.value)" class="w-full text-xs font-semibold text-slate-700 bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 cursor-pointer">
                    <option value="all">General User</option>
                    <option value="student">Student / Learner</option>
                    <option value="job_seeker">Job Seeker</option>
                    <option value="entrepreneur">Entrepreneur / Founder</option>
                    <option value="professional">Working Professional</option>
                </select>
            </div>
            <div id="career-hub-content" class="flex-1 overflow-y-auto p-5 space-y-6"></div>
        </div>

        <div id="community-hub-drawer" class="fixed inset-y-0 right-0 z-[95] w-full max-w-md bg-white shadow-2xl drawer flex flex-col translate-x-full">
            <div class="p-5 border-b border-slate-100 flex justify-between items-center bg-white">
                <h2 class="text-xl font-bold text-slate-900 flex items-center gap-2"><i data-lucide="users" class="w-5 h-5 text-amber-600"></i> Community & Events</h2>
                <button onclick="toggleCommunityHub()" class="p-2 bg-white rounded-full text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-colors" aria-label="Close Community Hub"><i data-lucide="x" class="w-5 h-5"></i></button>
            </div>
            <div id="community-hub-content" class="flex-1 overflow-y-auto p-5 space-y-6"></div>
        </div>

            <div id="training-hub-drawer" class="fixed inset-y-0 right-0 z-[95] w-full max-w-md bg-white shadow-2xl drawer flex flex-col translate-x-full">
            <div class="p-5 border-b border-slate-100 flex justify-between items-center bg-white">
                <h2 class="text-xl font-bold text-slate-900 flex items-center gap-2"><i data-lucide="graduation-cap" class="w-5 h-5 text-emerald-600"></i> Training Hub</h2>
                <button onclick="toggleTrainingHub()" class="p-2 bg-white rounded-full text-slate-400 hover:text-slate-600 hover:bg-slate-100 transition-colors" aria-label="Close Training Hub"><i data-lucide="x" class="w-5 h-5"></i></button>
            </div>
            <div class="px-5 pt-4 pb-0 bg-white">
                <label for="training-persona-select" class="block text-[10px] font-bold text-slate-500 uppercase mb-1">I am a...</label>
                <select id="training-persona-select" onchange="setGlobalPersona(this.value)" class="w-full text-xs font-semibold text-slate-700 bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-emerald-500 cursor-pointer">
                    <option value="all">General User</option>
                    <option value="student">Student / Learner</option>
                    <option value="job_seeker">Job Seeker</option>
                    <option value="entrepreneur">Entrepreneur / Founder</option>
                    <option value="professional">Working Professional</option>
                </select>
            </div>
            <div class="flex border-b border-slate-200 bg-white w-full">
                <button onclick="showTrainingTab('th-find')" class="th-tab-btn flex-1 py-3 text-xs font-bold border-b-2 transition-all text-emerald-700 border-emerald-600 bg-emerald-50" data-tab="th-find">Find Courses</button>
                <button onclick="showTrainingTab('th-featured')" class="th-tab-btn flex-1 py-3 text-xs font-bold border-b-2 transition-all text-slate-500 border-transparent hover:text-slate-700 hover:bg-slate-50" data-tab="th-featured">Featured Providers</button>
                <button onclick="showTrainingTab('th-impact')" class="th-tab-btn flex-1 py-3 text-xs font-bold border-b-2 transition-all text-slate-500 border-transparent hover:text-slate-700 hover:bg-slate-50" data-tab="th-impact">Impact Evidence</button>
            </div>
            <div class="flex-1 overflow-y-auto p-5 space-y-6 custom-scroll">
                <div id="th-find" class="th-tab-content space-y-6">
                    <div class="bg-white rounded-xl border border-slate-200 p-4 shadow-sm">
                        <h3 class="font-bold text-slate-800 text-sm flex items-center gap-2 mb-3"><i data-lucide="filter" class="w-4 h-4 text-indigo-500"></i> Filter Training</h3>
                        
                        <!-- Quick Filters -->
                        <div class="space-y-3">
                             <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label for="drawer-hub-country" class="block text-xs font-medium text-slate-600 mb-1">Country</label>
                                    <select id="drawer-hub-country" onchange="setGlobalCountry(this.value); renderTrainingHubCourses();" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-sm focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="all">East Africa (All)</option>
                                        <option value="Kenya">Kenya</option>
                                        <option value="Tanzania">Tanzania</option>
                                        <option value="Uganda">Uganda</option>
                                        <option value="Rwanda">Rwanda</option>
                                        <option value="Burundi">Burundi</option>
                                        <option value="South Sudan">South Sudan</option>
                                        <option value="DRC">DRC</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="drawer-hub-language" class="block text-xs font-medium text-slate-600 mb-1">Language</label>
                                    <select id="drawer-hub-language" onchange="renderTrainingHubCourses()" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-sm focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="all">Language (All)</option>
                                        <option value="Kiswahili">Kiswahili</option>
                                        <option value="English">English</option>
                                        <option value="French">French</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="drawer-hub-sector" class="block text-xs font-medium text-slate-600 mb-1">Sector</label>
                                    <select id="drawer-hub-sector" onchange="renderTrainingHubCourses()" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-sm focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="agri">Agritech</option>
                                        <option value="energy">Renewable Energies</option>
                                        <option value="digital">Digital Economies / AI</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="drawer-hub-mode-quick" class="block text-xs font-medium text-slate-600 mb-1">Learning Mode</label>
                                    <select id="drawer-hub-mode-quick" onchange="renderTrainingHubCourses()" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-sm focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="all">Any Mode</option>
                                        <option value="online">Online</option>
                                        <option value="in-person">In-Person</option>
                                        <option value="hybrid">Hybrid</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="pt-2">
                            <button onclick="toggleMoreFilters()" id="more-filters-btn" class="text-xs font-bold text-indigo-600 hover:underline flex items-center gap-1">
                                <i data-lucide="plus-circle" class="w-3 h-3"></i> More Filters
                            </button>
                        </div>

                        <div id="advanced-filters" class="hidden pt-4 mt-4 border-t border-slate-200 space-y-3">
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label for="drawer-hub-course-type" class="block text-xs font-medium text-slate-600 mb-1">Course Type</label>
                                    <select id="drawer-hub-course-type" onchange="renderTrainingHubCourses()" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-sm focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="all">Any Type</option>
                                        <option value="certificate">Certificates</option>
                                        <option value="micro-credential">Micro-credentials</option>
                                        <option value="tvet">TVET courses</option>
                                        <option value="university">University courses</option>
                                        <option value="bootcamp">Bootcamps</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="drawer-hub-budget" class="block text-xs font-medium text-slate-600 mb-1">Budget Band</label>
                                    <select id="drawer-hub-budget" onchange="renderTrainingHubCourses()" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-sm focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="all">Any Cost</option>
                                        <option value="low">Low Cost / Free</option>
                                        <option value="medium">Medium Cost</option>
                                        <option value="high">High Cost</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="drawer-hub-time" class="block text-xs font-medium text-slate-600 mb-1">Time Commitment (Per Week)</label>
                                    <select id="drawer-hub-time" onchange="renderTrainingHubCourses()" class="w-full border border-slate-300 rounded-lg px-3 py-2 text-sm focus:ring-emerald-500 focus:border-emerald-500">
                                        <option value="all">No Constraints</option>
                                        <option value="0-10 hours">0-10 hours</option>
                                        <option value="10-20 hours">10-20 hours</option>
                                        <option value="20+ hours">20+ hours</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                    </div>
                    <!-- Results Container -->
                    <div id="training-hub-results" class="space-y-4"></div>
                </div>
                <div id="th-featured" class="th-tab-content hidden space-y-4">
                    <div class="bg-white rounded-xl border border-slate-200 overflow-hidden shadow-sm">
                        <div class="p-4 border-b border-slate-200 bg-slate-50 grid grid-cols-2 gap-3">
                            <div>
                                <label class="text-[10px] font-bold text-slate-500 uppercase">Sector</label>
                                <select id="drawer-filter-sector" onchange="renderProviderTable()" class="w-full mt-1 text-xs border-slate-300 rounded-md focus:ring-emerald-500 focus:border-emerald-500">
                                    <option value="all">All Sectors</option>
                                    <option value="Digital">Digital Economy</option>
                                    <option value="Agriculture">Agriculture</option>
                                    <option value="Energy">Renewable Energy</option>
                                </select>
                            </div>
                            <div>
                                <label class="text-[10px] font-bold text-slate-500 uppercase">Data Reliability</label>
                                <select id="drawer-filter-quality" onchange="renderProviderTable()" class="w-full mt-1 text-xs border-slate-300 rounded-md focus:ring-emerald-500 focus:border-emerald-500">
                                    <option value="all">All Quality Levels</option>
                                    <option value="5"> ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê  Independent Audit</option>
                                    <option value="3"> ‚≠ê‚≠ê‚≠ê  Self-Reported</option>
                                    <option value="1"> ‚≠ê  No Data (High Risk)</option>
                                </select>
                            </div>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full text-left">
                                <thead class="bg-white text-slate-500 font-bold border-b border-slate-200 text-[10px] uppercase">
                                    <tr>
                                        <th class="px-3 py-2">Provider / Course</th>
                                        <th class="px-3 py-2">Context</th>
                                        <th class="px-3 py-2">
                                            <div class="flex items-center gap-1">
                                                Outcomes Rating <i data-lucide="info" class="w-3 h-3 text-slate-400 cursor-help" title="Data Reliability Rating:&#10;5‚òÖ: Independently Audited&#10;3‚òÖ: Self-Reported Data&#10;1‚òÖ: No Public Data"></i>
                                            </div>
                                        </th>
                                        <th class="px-3 py-2">
                                            <div class="flex items-center gap-1">
                                                Metric <i data-lucide="info" class="w-3 h-3 text-slate-400 cursor-help" title="Key Outcome Indicator:&#10;e.g. Salary Uplift, Placement Rate, or Reach."></i>
                                            </div>
                                        </th>
                                        <th class="px-3 py-2 text-right">Link</th>
                                    </tr>
                                </thead>
                                <tbody id="drawer-db-body" class="bg-white"></tbody>
                            </table>
                        </div>
                        <div class="p-3 bg-slate-50 border-t border-slate-200 text-[10px] text-slate-500 flex justify-between">
                            <span id="drawer-provider-counter">Loading...</span>
                        <p>Ratings are based on data transparency. 5 stars means the employment outcome data has been independently audited by a third party.</p>
                    </div>
                </div>
                <div id="th-impact" class="th-tab-content hidden space-y-6">
                    <div class="grid grid-cols-2 gap-3">
                        <div class="bg-white p-3 rounded-lg border border-slate-200 shadow-sm">
                            <div class="text-slate-500 text-[10px] uppercase font-bold mb-1">Graduates Tracked</div>
                            <div class="text-xl font-bold text-slate-800">23,700+</div>
                            <div class="text-[10px] text-slate-400">Verified Outcomes</div>
                        </div>
                        <div class="bg-white p-3 rounded-lg border border-slate-200 shadow-sm">
                            <div class="text-slate-500 text-[10px] uppercase font-bold mb-1">Max Salary Uplift</div>
                            <div class="text-xl font-bold text-green-600">+140%</div>
                            <div class="text-[10px] text-slate-400">Digital Sector</div>
                        </div>
                        <div class="bg-white p-3 rounded-lg border border-slate-200 shadow-sm">
                            <div class="text-slate-500 text-[10px] uppercase font-bold mb-1">Time to Job</div>
                            <div class="text-xl font-bold text-blue-600">3 Months</div>
                            <div class="text-[10px] text-slate-400">Bootcamp Avg</div>
                        </div>
                        <div class="bg-white p-3 rounded-lg border border-slate-200 shadow-sm">
                            <div class="text-slate-500 text-[10px] uppercase font-bold mb-1">Data Gaps</div>
                            <div class="text-xl font-bold text-red-500">87.5%</div>
                            <div class="text-[10px] text-slate-400">Providers w/o Data</div>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <div class="flex justify-between items-end">
                            <h2 class="text-sm font-bold text-slate-900">Career Impact Dashboard</h2>
                            <span class="text-[10px] text-slate-400 bg-slate-100 px-2 py-1 rounded">Src: Tracer Studies '24</span>
                        </div>
                        <div class="bg-white p-4 rounded-xl border border-slate-200 shadow-sm">
                            <h3 class="font-bold text-xs text-slate-700 mb-2">Salary Progression (Digital Sector)</h3>
                            <div class="heavy-chart h-48 w-full relative">
                                <canvas id="drawer-salaryChart"></canvas>
                            </div>
                            <div class="simple-stat space-y-2 mt-2">
                                <div class="text-xs text-slate-600">Pre-Training: <strong>KES 15k</strong> -> Post-Grad: <strong>KES 36k</strong></div>
                            </div>
                        </div>
                        <div class="bg-white p-4 rounded-xl border border-slate-200 shadow-sm">
                            <h3 class="font-bold text-xs text-slate-700 mb-2">Time to Full-Time Employment</h3>
                            <div class="heavy-chart h-48 w-full relative flex justify-center">
                                <canvas id="drawer-timeChart"></canvas>
                            </div>
                            <div class="simple-stat space-y-2 mt-2">
                                <div class="text-xs text-slate-600">Employed < 3 Mo: <strong>66%</strong></div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-orange-50 border border-orange-100 rounded-xl p-4">
                        <div class="flex gap-3 items-start">
                            <div class="bg-orange-100 p-2 rounded-full text-orange-600 shrink-0"><i data-lucide="alert-triangle" class="w-4 h-4"></i></div>
                            <div>
                                <h3 class="text-sm font-bold text-orange-900 mb-1">The "Data Desert"</h3>
                                <p class="text-xs text-orange-800 leading-relaxed mb-3">While digital has strong data, <strong>93% of providers</strong> (mostly Agri/Energy) have no published outcome data.</p>
                                <button class="bg-orange-600 hover:bg-orange-700 text-white px-3 py-1.5 rounded text-xs font-bold transition shadow-sm w-full sm:w-auto">Submit Outcome Data</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-white border-t border-slate-200 mt-auto py-6 md:py-12">
        <div class="max-w-7xl mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-10 items-start">
                <div class="space-y-3 md:space-y-4">
                    <div class="flex items-center gap-3">
                        <span class="font-bold text-slate-900 text-base md:text-lg">Campus Africa for AI4EAC</span>
                        <span class="px-2 py-1 rounded bg-slate-100 border border-slate-200 text-[10px] font-bold uppercase tracking-wider text-slate-600 flex items-center gap-1"><i data-lucide="github" class="w-3 h-3"></i> Open Source</span>
                    </div>
                    <div class="flex flex-wrap gap-2 my-3">
                        <div class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-slate-50 border border-slate-200 text-[10px] font-medium text-slate-600">
                            <i data-lucide="clock" class="w-3 h-3 text-slate-400"></i> Last Updated: Dec 2025
                        </div>
                        <div class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-slate-50 border border-slate-200 text-[10px] font-medium text-slate-600" title="No personal data is sent to servers">
                            <i data-lucide="shield" class="w-3 h-3 text-slate-400"></i> Privacy-first: Local Storage
                        </div>
                        <div class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-slate-50 border border-slate-200 text-[10px] font-medium text-slate-600">
                            <i data-lucide="file-check" class="w-3 h-3 text-slate-400"></i> Tracer Standard v1.0
                        </div>
                        <div class="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full bg-slate-50 border border-slate-200 text-[10px] font-medium text-slate-600">
                            <i data-lucide="zap" class="w-3 h-3 text-slate-400"></i> Lite Mode: Saves Data
                        </div>
                    </div>
                    <div class="flex flex-col gap-1 text-[10px] md:text-xs text-slate-400">
                        <span>&copy; 2026 Campus Africa. All rights reserved. ‚Ä¢ <a href="mailto:support@ai4eac.org" class="hover:text-indigo-600 transition-colors inline-flex items-center gap-1"><i data-lucide="bug" class="w-3 h-3"></i> Report Bug</a></span>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- My Plan Widget -->
    <div id="my-plan-widget" class="fixed bottom-6 right-6 z-[90] flex flex-col items-end gap-4 print:hidden">
        <!-- Panel (Hidden by default) -->
        <div id="my-plan-panel" class="hidden bg-white rounded-xl shadow-2xl border border-slate-200 w-80 overflow-hidden mb-2 transition-all origin-bottom-right animate-fade-in">
            <div class="bg-indigo-600 p-4 flex justify-between items-center text-white">
                <h3 class="font-bold flex items-center gap-2 text-sm"><i data-lucide="bookmark" class="w-4 h-4"></i> My Career Plan</h3>
                <button onclick="toggleMyPlan()" class="hover:bg-indigo-700 p-1 rounded transition-colors"><i data-lucide="x" class="w-4 h-4"></i></button>
            </div>
            <div id="my-plan-content" class="p-4 max-h-96 overflow-y-auto custom-scroll space-y-4 bg-slate-50 min-h-[150px]">
                <!-- Dynamic Content -->
            </div>
        </div>

        <!-- Floating Button -->
        <button onclick="toggleMyPlan()" class="bg-indigo-600 hover:bg-indigo-700 text-white p-3.5 rounded-full shadow-lg flex items-center gap-2 transition-transform hover:scale-105 group relative">
            <i data-lucide="bookmark" class="w-6 h-6"></i>
            <span class="max-w-0 overflow-hidden group-hover:max-w-xs transition-all duration-300 ease-in-out whitespace-nowrap text-sm font-bold">My Plan</span>
            <span id="plan-badge" class="absolute -top-1 -right-1 bg-rose-500 text-white text-[10px] font-bold w-5 h-5 flex items-center justify-center rounded-full hidden shadow-sm border border-white">0</span>
        </button>
    </div>

    <script src="data.js"></script>
    <script src="app.js"></script>
